<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Barlow:wght@800&family=Fragment+Mono&family=IBM+Plex+Sans&family=Rubik:wght@300..900&family=IBM+Plex+Mono:wght@500&display=swap"
    rel="stylesheet">
</head>
<style>
  /* resets */
  * {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    --white: #fff;
    --text-title: #1E2C50;
    --text-primary: #1e2c50;
    --bg-white-transparent: rgba(255, 255, 255, 0.80);
    --text-tertiary: #8B94AC;
    --frogcrypto: #17A34A;
    --core-accent: #0077FF;
    --max-width: 460px;
    background-color: #ECECEC;
  }

  body {
    margin: 0;
    display: flex;
    justify-content: center;
  }

  .zupass-link {
    display: flex;
    padding: 6px 12px 6px 16px;
    justify-content: center;
    align-items: center;
    gap: 6px;
    cursor: pointer;

    border-radius: 200px;
    border: 2px solid var(--text-white, #FFF);
    background: var(--bg-white-transparent, rgba(255, 255, 255, 0.80));

    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);
  }

  .zupass-link__text {
    color: var(--text-tertiary, #8B94AC);
    text-align: center;

    /* text-sm (14px)/medium-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 18.9px */
  }

  .zupass-link__icon {
    width: 16px;
    height: 16px;
  }

  .ticket__footer {
    color: var(--text-tertiary);
    text-align: center;
    font-family: Rubik;
    font-size: 12px;
    font-style: normal;
    font-weight: 400;
    width: 100%;
    padding-top: 16px;
    padding-bottom: 16px;
    border-top: 1px solid #eee;
  }

  .container {
    margin: auto;
    flex: 1;
    width: 100%;
    display: flex;
    flex-direction: column;
    max-width: var(--max-width);
    align-items: center;
    position: relative;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 25px 20px 25px 20px;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .container::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }

  .ticket {
    display: flex;
    padding: 16px 16px 0px 16px;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;
    border-radius: 16px;
    background: var(--white);
    margin-bottom: 25px;

    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);
    gap: 16px;
  }

  .ticket__qr-code {
    width: 100%;
    height: 100%;
  }

  .ticket__text-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
  }

  .ticket__title {
    color: var(--text-title);
    text-align: center;
    font-family: "Barlow", sans-serif;
    font-weight: 800;
    font-style: normal;

    /* text-xl (20px)/extrabold */
    font-size: 20px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 27px */
  }

  .ticket__addons-btn {
    width: 100%;
    background: none;
    border: none;
    padding: 16px 0 0 0;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    cursor: pointer;
  }

  .ticket__subtitle--text {
    color: var(--text-primary);
    text-align: center;

    /* text-sm (14px)/regular-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 135%;
    /* 18.9px */
  }

  .ticket__subtitle--container {
    display: flex;
    flex-direction: row;
    gap: 4px;
  }

  .header {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-bottom: 12px;
  }

  .header__title {
    color: #1E2C50;
    text-align: center;
    font-family: Barlow;
    font-size: 20px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 37.8px */
  }

  .header__subtitle {
    color: #7C8BB4;
    text-align: center;
    font-family: Rubik;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 135%;
    /* 24.3px */
  }

  .cta {
    position: relative;
    border-radius: 16px;
    background: linear-gradient(0deg, #FFAE00 0%, #4CCCB0 100%);
    height: 55px;
    width: 100%;
    display: flex;
    align-items: center;
    padding: 20px 0;
    justify-content: center;
    gap: 16px;
    color: #1E4F3F;
    text-align: center;
    font-family: "IBM Plex Mono";
    font-size: 20px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 27px */
    letter-spacing: -0.4px;
    cursor: pointer;
    box-shadow: 0 4px #B3901B;
    margin-bottom: 20px;
  }

  .cta::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 16px;
    border: 2px solid rgba(255, 255, 255, 0.20);
    pointer-events: none;
  }

  .modal__overlay--disabled {
    display: none !important;
  }

  .modal__overlay {
    background: rgba(0, 0, 0, 0.50);
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    overflow-x: hidden;
    overflow-y: hidden;
    z-index: 9999;
    padding: 0px 12px 12px 12px;
    display: flex;
    align-items: end;
  }

  .modal__container {
    background: #ffffff;
    border-radius: 40px;
    box-shadow: 0px 4px 6px -1px #0000001a;
    width: 100%;
    max-width: var(--max-width);
    max-height: 100%;
    padding: 20px;
    margin: 0 auto;
    -ms-overflow-style: none;
    /* Internet Explorer 10+ */
    scrollbar-width: none;
    /* Firefox */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .modal__container--hide {
    display: none !important;
  }

  .modal__container--center {
    margin: auto;
  }

  .modal__container::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }

  .modal__qr {
    width: 265px;
    height: 265px;
  }

  .modal__qr--text {
    color: #1E2C50;
    text-align: center;
    /* text-lg (18px)/text-base (16px)/medium-rubik */
    font-family: Rubik;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 21.6px */
  }

  .modal__qr--image {
    max-width: inherit;
    max-height: inherit;
    height: inherit;
    width: inherit;
    object-fit: cover;
  }

  .modal__qr--container {
    display: flex;
    flex-direction: column;
    padding: 12px;
    gap: 12px;
    align-items: center;
    border: 1px solid #e5dfdf;
    border-radius: 8px;
  }

  .page-header {
    padding: 25px 0 25px 0;
    width: 100%;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid #1d8289;
    background: linear-gradient(0deg, #00605C 0%, #00785E 100%);
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
  }

  .swiper-container {
    width: 290px;
    margin: 0 auto;
    overflow: hidden;
    cursor: grab;
  }

  .swiper__navigation--text {
    color: var(--text-tertiary);
    text-align: center;

    /* text-sm (14px)/medium-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    user-select: none;
    /* 18.9px */
  }

  .swiper__navigation--container {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .swiper__navigation--btn-disabled {
    opacity: 0.4;
    pointer-events: none;
  }

  .swiper__navigation--btn {
    display: flex;
    width: 40px;
    height: 32px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    border-radius: 200px;
    border: 2px solid #FFF;
    background: var(--bg-white-transparent);
    cursor: pointer;

    /* shadow */
    box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.10), 0px 1px 2px 0px rgba(0, 0, 0, 0.06);
  }

  .btn__container--primary {
    cursor: pointer;
    display: flex;
    height: 54px;
    padding: 8px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    align-self: stretch;
    border-radius: 200px;
    background: var(--core-accent);
    user-select: none;
    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);
  }

  .btn__text--primary {
    color: var(--white);
    text-align: center;

    /* text-lg (18px)/medium-rubik */
    font-family: Rubik;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 24.3px */
  }

  .time__modal--container {
    height: 230px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .time-modal__btn--frogcrypto {
    border-radius: 4px;
    background: #17A34A;
    width: 180px;
    height: 40px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    cursor: pointer;
  }

  .time-modal__text {
    color: #242E24;
    font-family: "IBM Plex Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    letter-spacing: 0.36px;
  }

  .time-modal__text--frogcrypto {
    color: var(--frogcrypto);
    text-align: center;
    font-family: "IBM Plex Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    /* 25.2px */
    letter-spacing: 0.36px;
  }

  .time-modal__text--time {
    background: linear-gradient(90deg, #FF8585 28.44%, #B4BD51 41.87%, #5CEB8E 55.83%, #4B6EE2 66.68%, #DD4BE2 78.56%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: "IBM Plex Sans";
    font-size: 32px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    letter-spacing: 0.64px;
  }
</style>

<body>
  <main class="container" ontouchstart>
    <button onclick="redirectToZupass()" class="zupass-link">
      <div class="zupass-link__text">View full page in Zupass</div>
      <div class="zupass-link__icon"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17"
          fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M6.71967 4.71967C7.01256 4.42678 7.48744 4.42678 7.78033 4.71967L11.0303 7.96967C11.3232 8.26256 11.3232 8.73744 11.0303 9.03033L7.78033 12.2803C7.48744 12.5732 7.01256 12.5732 6.71967 12.2803C6.42678 11.9874 6.42678 11.5126 6.71967 11.2197L9.43934 8.5L6.71967 5.78033C6.42678 5.48744 6.42678 5.01256 6.71967 4.71967Z"
            fill="#8B94AC" />
        </svg></div>
    </button>
    <div class="header">
      <span class="header__title">WELCOME TO {{eventName}}</span>
      <div class="ticket__subtitle--container">
        <span class="header__subtitle">{{eventLocation}}</span>
        <span class="header__subtitle">·</span>
        {{#isMoreThanOne}}
        <span class="header__subtitle">{{count}} Tickets</span>
        {{/isMoreThanOne}} {{^isMoreThanOne}}
        <span class="header__subtitle">1 Ticket</span>
        {{/isMoreThanOne}}
      </div>
    </div>
    <button onclick="onFrogcryptoClick()" class="cta">SCORE: 0 <svg xmlns="http://www.w3.org/2000/svg" width="33"
        height="25" viewBox="0 0 33 25" fill="none">
        <path
          d="M30.0348 7.97566C30.0348 4.95142 27.5891 2.5 24.572 2.5C22.3829 2.5 20.5003 3.79354 19.6285 5.65661C18.6181 5.50163 17.564 5.4173 16.4788 5.4173C15.3937 5.4173 14.3673 5.49974 13.3687 5.65048C12.496 3.79072 10.6147 2.5 8.42799 2.5C5.41086 2.5 2.96519 4.95142 2.96519 7.97566C2.96519 9.09962 3.30403 10.144 3.88349 11.0131C3.35385 11.9312 3.06389 12.9233 3.06389 13.9587C3.06389 18.6759 9.06995 22.5 16.4784 22.5C23.8868 22.5 29.8929 18.6759 29.8929 13.9587C29.8929 12.9364 29.61 11.9566 29.093 11.0479C29.6866 10.1718 30.0343 9.11422 30.0343 7.97519L30.0348 7.97566Z"
          fill="#74DB61" stroke="white" stroke-width="5.00467" />
        <path
          d="M30.0348 7.97566C30.0348 4.95142 27.5891 2.5 24.572 2.5C22.3829 2.5 20.5003 3.79354 19.6285 5.65661C18.6181 5.50163 17.564 5.4173 16.4788 5.4173C15.3937 5.4173 14.3673 5.49974 13.3687 5.65048C12.496 3.79072 10.6147 2.5 8.42799 2.5C5.41086 2.5 2.96519 4.95142 2.96519 7.97566C2.96519 9.09962 3.30403 10.144 3.88349 11.0131C3.35385 11.9312 3.06389 12.9233 3.06389 13.9587C3.06389 18.6759 9.06995 22.5 16.4784 22.5C23.8868 22.5 29.8929 18.6759 29.8929 13.9587C29.8929 12.9364 29.61 11.9566 29.093 11.0479C29.6866 10.1718 30.0343 9.11422 30.0343 7.97519L30.0348 7.97566Z"
          fill="#74DB61" stroke="#154133" stroke-width="1.41669" />
        <path
          d="M8.47167 9.04127C9.36401 9.04127 10.0874 8.10001 10.0874 6.93891C10.0874 5.77781 9.36401 4.83655 8.47167 4.83655C7.57934 4.83655 6.85596 5.77781 6.85596 6.93891C6.85596 8.10001 7.57934 9.04127 8.47167 9.04127Z"
          fill="#154133" />
        <path
          d="M24.528 9.04133C25.4204 9.04133 26.1438 8.10007 26.1438 6.93897C26.1438 5.77787 25.4204 4.83661 24.528 4.83661C23.6357 4.83661 22.9123 5.77787 22.9123 6.93897C22.9123 8.10007 23.6357 9.04133 24.528 9.04133Z"
          fill="#154133" />
        <path
          d="M8.28279 15.4355C9.17512 15.4355 9.8985 14.2936 9.8985 12.8851C9.8985 11.4766 9.17512 10.3348 8.28279 10.3348C7.39045 10.3348 6.66707 11.4766 6.66707 12.8851C6.66707 14.2936 7.39045 15.4355 8.28279 15.4355Z"
          fill="#F9C1D4" />
        <path
          d="M24.7173 15.4353C25.6096 15.4353 26.333 14.2935 26.333 12.885C26.333 11.4765 25.6096 10.3347 24.7173 10.3347C23.8249 10.3347 23.1016 11.4765 23.1016 12.885C23.1016 14.2935 23.8249 15.4353 24.7173 15.4353Z"
          fill="#F9C1D4" />
        <path
          d="M16.4999 14.4816C14.4523 14.4816 12.7868 12.9356 12.7868 11.0353C12.7868 10.7498 13.0175 10.5186 13.3023 10.5186C13.5871 10.5186 13.8178 10.7498 13.8178 11.0353C13.8178 12.3656 15.0209 13.4476 16.4994 13.4476C17.9779 13.4476 19.181 12.3656 19.181 11.0353C19.181 10.7498 19.4122 10.5186 19.6966 10.5186C19.9809 10.5186 20.2121 10.7498 20.2121 11.0353C20.2121 12.9356 18.5466 14.4816 16.499 14.4816H16.4999Z"
          fill="#154133" />
      </svg> </button>

    {{#tickets}}
    <div class="ticket">
      <img class="ticket__qr-code" src="{{qr}}" draggable="false" />
      <div class="ticket__text-container">
        <span class="ticket__title">{{attendeeName}}</span>
        <div class="ticket__subtitle--container">
          <span class="ticket__subtitle--text">{{attendeeEmail}}</span>
          <span class="ticket__subtitle--text">·</span>
          <span class="ticket__subtitle--text">{{ticketName}}</span>
        </div>
      </div>
      {{#showAddons}}
      <button id="addons_btn_{{id}}" type="button" class="addons-btn ticket__addons-btn">
        {{#moreThanOneAddon}}
        <span class="ticket__subtitle--text" style="font-size: 16px;">View {{addonsCount}}
          add-on items</span>
        {{/moreThanOneAddon}}
        {{^moreThanOneAddon}}
        <span class="ticket__subtitle--text" style="font-size: 16px;">View add-on item</span>
        {{/moreThanOneAddon}}
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
          style="width: 20px;">
          <path d="M4.75 4.25a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1Z" />
          <path fill-rule="evenodd"
            d="M2 3.5A1.5 1.5 0 0 1 3.5 2H6a1.5 1.5 0 0 1 1.5 1.5V6A1.5 1.5 0 0 1 6 7.5H3.5A1.5 1.5 0 0 1 2 6V3.5Zm1.5 0H6V6H3.5V3.5Z"
            clip-rule="evenodd" />
          <path d="M4.25 11.25a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Z" />
          <path fill-rule="evenodd"
            d="M2 10a1.5 1.5 0 0 1 1.5-1.5H6A1.5 1.5 0 0 1 7.5 10v2.5A1.5 1.5 0 0 1 6 14H3.5A1.5 1.5 0 0 1 2 12.5V10Zm1.5 2.5V10H6v2.5H3.5Z"
            clip-rule="evenodd" />
          <path d="M11.25 4.25a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1Z" />
          <path fill-rule="evenodd"
            d="M10 2a1.5 1.5 0 0 0-1.5 1.5V6A1.5 1.5 0 0 0 10 7.5h2.5A1.5 1.5 0 0 0 14 6V3.5A1.5 1.5 0 0 0 12.5 2H10Zm2.5 1.5H10V6h2.5V3.5Z"
            clip-rule="evenodd" />
          <path
            d="M8.5 9.417a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM8.5 13.083a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM13.083 8.5a.917.917 0 1 0 0 1.833.917.917 0 0 0 0-1.833ZM12.166 13.084a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM11.25 10.333a.917.917 0 1 0 0 1.833.917.917 0 0 0 0-1.833Z" />
        </svg>
      </button>
      {{/showAddons}}
      {{^showAddons}}
      <!-- spacer when we dont have any addon -->
      <div style="height:16px;"></div>
      {{/showAddons}}
      <div class="ticket__footer">
        QR POD • ZK powered by ZUPASS
      </div>
    </div>
    {{/tickets}}
  </main>

  <div id="modal-overlay" class="modal__overlay modal__overlay--disabled">
    <div id="modal-time"
      class="modal__container modal__container--hide modal__container--center time__modal--container ">
      <span class="time-modal__text">
        <span class="time-modal__text--frogcrypto">FROGCRYPTO</span>
        unlocks in</span>
      <span id="time-left" class="time-modal__text--time"></span>
      <button type="button" id="yes-btn" class="time-modal__btn--frogcrypto"><span class="time-modal__text"
          style="color: var(--white);">Yes</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="20"
          viewBox="0 0 41 32" fill="none">
          <path
            d="M39.8985 9.69016C39.8985 5.42073 36.4459 1.95996 32.1865 1.95996C29.0961 1.95996 26.4383 3.78611 25.2076 6.41626C23.7812 6.19747 22.293 6.07843 20.7611 6.07843C19.2292 6.07843 17.7802 6.19481 16.3703 6.40762C15.1383 3.78212 12.4825 1.95996 9.39539 1.95996C5.13599 1.95996 1.68335 5.42073 1.68335 9.69016C1.68335 11.2769 2.1617 12.7512 2.97975 13.9782C2.23203 15.2743 1.82268 16.6749 1.82268 18.1366C1.82268 24.7961 10.3017 30.1947 20.7604 30.1947C31.2192 30.1947 39.6982 24.7961 39.6982 18.1366C39.6982 16.6935 39.2988 15.3102 38.569 14.0274C39.4069 12.7905 39.8979 11.2975 39.8979 9.68949L39.8985 9.69016Z"
            fill="#74DB61" stroke="#154133" stroke-width="2" />
          <path
            d="M9.45699 11.1948C10.7167 11.1948 11.738 9.86595 11.738 8.22678C11.738 6.5876 10.7167 5.25879 9.45699 5.25879C8.19725 5.25879 7.17603 6.5876 7.17603 8.22678C7.17603 9.86595 8.19725 11.1948 9.45699 11.1948Z"
            fill="#154133" />
          <path
            d="M32.1245 11.1948C33.3842 11.1948 34.4054 9.86595 34.4054 8.22678C34.4054 6.5876 33.3842 5.25879 32.1245 5.25879C30.8647 5.25879 29.8435 6.5876 29.8435 8.22678C29.8435 9.86595 30.8647 11.1948 32.1245 11.1948Z"
            fill="#154133" />
          <path
            d="M9.19039 20.2213C10.4501 20.2213 11.4714 18.6094 11.4714 16.6209C11.4714 14.6325 10.4501 13.0205 9.19039 13.0205C7.93065 13.0205 6.90942 14.6325 6.90942 16.6209C6.90942 18.6094 7.93065 20.2213 9.19039 20.2213Z"
            fill="#F9C1D4" />
          <path
            d="M32.3916 20.2213C33.6513 20.2213 34.6725 18.6094 34.6725 16.6209C34.6725 14.6325 33.6513 13.0205 32.3916 13.0205C31.1318 13.0205 30.1106 14.6325 30.1106 16.6209C30.1106 18.6094 31.1318 20.2213 32.3916 20.2213Z"
            fill="#F9C1D4" />
          <path
            d="M20.7908 18.8751C17.9001 18.8751 15.5488 16.6925 15.5488 14.0098C15.5488 13.6068 15.8746 13.2803 16.2766 13.2803C16.6787 13.2803 17.0045 13.6068 17.0045 14.0098C17.0045 15.8878 18.7029 17.4154 20.7901 17.4154C22.8774 17.4154 24.5758 15.8878 24.5758 14.0098C24.5758 13.6068 24.9023 13.2803 25.3037 13.2803C25.705 13.2803 26.0315 13.6068 26.0315 14.0098C26.0315 16.6925 23.6802 18.8751 20.7895 18.8751H20.7908Z"
            fill="#154133" />
        </svg></button>
    </div>
    {{#tickets}}
    <div id="modal_addons_{{id}}" class="modal-addons modal__container modal__container--hide">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          {{#addons}}
          <div class="swiper-slide">
            <div class="modal__qr--container">
              <div class="modal__qr">
                <img class="modal__qr--image" src="{{image}}" draggable="false" />
              </div>
              <span class="modal__qr--text">{{name}}</span>
            </div>
          </div>
          {{/addons}}
        </div>
      </div>
      {{#moreThanOneAddon}}
      <div class="swiper__navigation--container">
        <button id="back" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z"
              clip-rule="evenodd" />
          </svg>
        </button>
        <span class="swiper__navigation--text"><span id="current-item-text">1</span> of {{addonsCount}}</span>
        <button id="next" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {{/moreThanOneAddon}}
      <button type="button" id="close" class="btn__container--primary"><span
          class="btn__text--primary">Close</span></button>
    </div>
    {{/tickets}}
  </div>
  </div>
  <!-- Tiny-Swiper JS -->
  <script src="https://unpkg.com/tiny-swiper@latest/lib/index.min.js"></script>
  <script src="https://unpkg.com/tiny-swiper@latest/lib/modules/navigation.min.js"></script>

  <script>

    const addonsModals = document.getElementsByClassName("modal-addons");
    const timeModal = document.getElementById("modal-time");
    const overlay = document.getElementById("modal-overlay");
    const closeBtn = document.getElementById("close");
    const addonsBtns = document.getElementsByClassName("addons-btn");
    const nextBtn = document.getElementById("next");
    const backBtn = document.getElementById("back");
    const yesBtn = document.getElementById("yes-btn");
    const currentIdxText = document.getElementById("current-item-text");
    const timeLeftText = document.getElementById("time-left");

    let interval;

    const path = window.location.pathname;
    const oneClickMatch = path.match(/\/one-click-preview.*/);
    const newPath = oneClickMatch ? oneClickMatch[0] : "";
    const clientPath = joinPaths("{{{zupassUrl}}}", "#", newPath);


    // Once loaded we want to set the one click redirect link to local storage
    // so that later on we can login to zupass
    localStorage.setItem("one_click_redirect", newPath);


    function joinPaths(...parts) {
      return parts
        .map((part) => part.replace(/^\/+|\/+$/g, "")) // Remove leading/trailing slashes
        .filter((part) => part.length > 0) // Remove empty segments
        .join("/");
    }

    function timeToStartDate() {
      const startDate = new Date("{{startDate}}");

      const gap = Math.abs(Date.now() - startDate.getTime());
      let seconds = Math.floor(gap / 1000);
      const days = Math.floor(seconds / (24 * 3600));
      seconds %= 24 * 3600;
      const hours = Math.floor(seconds / 3600);
      seconds %= 3600;
      const minutes = Math.floor(seconds / 60);
      seconds %= 60;
      // Format the time string without spans
      return `${days}d:${hours}h:${minutes}m:${seconds}s`;
    }

    function redirectToZupass(folder) {
      let redirectPath = clientPath;
      if (folder) {
        redirectPath = joinPaths(redirectPath, folder);
      }
      window.location.replace(redirectPath);
    }

    function onFrogcryptoClick() {
      const maybeDate = Date.parse("{{startDate}}");
      if (isNaN(maybeDate) || maybeDate < Date.now()) {
        redirectToZupass("frogcrypto")
      }
      else {
        timeLeftText.innerText = timeToStartDate();
        openModal(timeModal);

        interval = setInterval(function () {
          timeLeftText.innerText = timeToStartDate();
        }, 500)
      }
    }

    for (const addonModal of addonsModals) {
      addonModal.onclick = function (e) {
        e.stopPropagation();
      }
    }

    timeModal.onclick = function (e) {
      e.stopPropagation();
    }


    yesBtn.onclick = function () {
      closeModal(timeModal);
      for (const addonModal of addonsModals) {
        closeModal(addonModal);
      }
      clearInterval(interval);
    }
    overlay.onclick = function () {
      closeModal(timeModal);
      for (const addonModal of addonsModals) {
        closeModal(addonModal);
      }
      clearInterval(interval);
    }

    for (const addonsBtn of addonsBtns) {
      const id = addonsBtn.id.split("_")[2];
      const addonsModal = document.getElementById("modal_addons_" + id);
      let swiper; // Declare swiper variable outside the function

      addonsBtn.onclick = function () {
        openModal(addonsModal);

        // Select the specific navigation buttons and index text within the modal
        const swiperContainer = addonsModal.querySelector(".swiper-container");
        const prevButton = addonsModal.querySelector("#back");
        const nextButton = addonsModal.querySelector("#next");
        const currentIdxText = addonsModal.querySelector("#current-item-text");
        const closeBtn = addonsModal.querySelector("#close");

        // Initialize a new Swiper instance only if there is more than one add-on
        if (addonsModal.querySelectorAll('.swiper-slide').length > 1) {
          swiper = new Swiper(swiperContainer, {
            spaceBetween: 12,
            navigation: {
              prevEl: prevButton,
              nextEl: nextButton,
              disabledClass: "swiper__navigation--btn-disabled"
            },
            plugins: [SwiperPluginNavigation]
          });

          swiper.on("after-slide", function (newIdx, state) {
            currentIdxText.innerText = newIdx + 1;
          });
        }

        // Close button functionality for the specific modal
        closeBtn.onclick = function () {
          closeModal(addonsModal);
          if (swiper) {
            swiper.slideTo(0); // Reset swiper to the first slide
          }
        };
      }
    }

    function toggleBodyScroll(enable) {
      document.body.style.overflow = enable ? 'auto' : 'hidden';
    }

    // When opening a modal
    function openModal(modal) {
      overlay.classList.remove("modal__overlay--disabled");
      modal.classList.remove("modal__container--hide");
      toggleBodyScroll(false); // Disable scrolling
    }

    // When closing a modal
    function closeModal(modal) {
      overlay.classList.add("modal__overlay--disabled");
      modal.classList.add("modal__container--hide");
      toggleBodyScroll(true); // Enable scrolling
    }

  </script>
</body>

</html>
